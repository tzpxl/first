<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>节流防抖</title>
</head>
<body>
<div style="height: 2000px;background-color: #ff5500;width: 200px;"></div>
<script>
    window.onscroll =throttle(function (event) {
        console.log(event);
    },2000);
    window.onscroll =debounce(function (event) {
        console.log(event);
    },1000);
    //节流
    function throttle(fn,time) {
        var beforeTime=0;
        return function () {//暴露出去的函数
            var self=this;
            var args= arguments;
            var currTime= +new Date();
            if(currTime - beforeTime >= time){
                //执行了一次
                fn.apply(self,args);
                beforeTime=currTime;
            }
        }
    }

    // 防抖
    function debounce(fn,time) {
        //闭包里面的保存的数据
        var timer = null;
        return function () {
            var self= this;
            var args= arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn.apply(self,args);

            },time);
        }
    }
</script>
</body>
</html>