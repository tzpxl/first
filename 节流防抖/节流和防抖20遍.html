<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    .aaa {
        width: 200px;
        height: 5000px;
    }
</style>

<body>
    <div class="aaa"></div>
</body>
<script>
    window.onscroll = throttle(function (event) {
        console.log(event);
    }, 1000);
    //节流
    function throttle(fn, time) {
        var beforeTime = 0;
        return function () { //暴露出去的函数
            var self = this;
            var args = arguments;
            var currTime = +new Date(); //获取当前时间
            if (currTime - beforeTime >= time) {
                //执行了一次
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }
    //去抖
    function debounce(fn, time) {
        //闭包里面保存的数据
        var timer = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer); //上一次下发还没执行的任务
            timer = setTimeout(function () {
                fn.apply(self, args);
            }, time);
        }
    }
</script>
<!-- 第一遍 -->
<script>
    window.onscroll = throttle(function (event) {
        console.log(event);
    }, 1000);

    function throttle(fn, time) {
        var beforeTime = 0;
        return function () {
            var self = this;
            var args = arguments;
            var currTime = +new Date();
            if (currTime - beforeTime >= time) {
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }

    function debounce(fn, time) {
        var time = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn.apply(self, args);
            }, time);
        }
    }
</script>

<!-- 第二遍 -->
<script>
    window.onscroll = throttle(function (ecent) {
        console.log(event);
    }, 1000);

    function throttle(fn, time) {
        var beforeTime = 0;
        return function () {
            var self = this;
            var args = arguments;
            var currTime = +new Date();
            if (currTime - beforeTime >= time) {
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }

    function debounce(fn, time) {
        var time = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn.apply(self, args);
            }, timer);
        }
    }
</script>
<!-- 3 -->
<script>
    window.onscroll = throttle(function (event) {
        console.log(event);
    }, 1000);

    function throttle(fn, time) {
        var beforeTime = 0;
        return function () {
            var self = this;
            var args = arguments;
            var currTime = +new Date();
            if (currTime - beforeTime >= time) {
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }

    function debounce(fn, time) {
        var time = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn.apply(self, args);
            }, time);
        }
    }
</script>

<!-- 4 -->
<script>
    window.onscroll = throttle(function (event) {
        console.log(event);
    }, 1000);

    function throttle(fn, time) {
        var beforeTime = 0;
        return function () {
            var self = this;
            var args = arguments;
            var currTime = +new Date();
            if (currTime - beforeTime >= time) {
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }

    function debounce(fn, time) {
        var time = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn = apply(self, args);
            }, time);
        }
    }
</script>

<!-- 5 -->
<script>
    window.onscroll = throttle(function (event) {
        console.log(event);
    }, 1000);

    function throttle(fn, time) {
        var beforeTime = 0;
        return function () {
            var self = this;
            var args = arguments;
            var currTime = +new Date();
            if (currTime - beforeTime >= time) {
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }

    function debounce(fn, time) {
        var time = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn = apply(self, args);
            }, time);
        }
    }
</script>

<!-- 6 -->
<script>
    window.onscroll = throttle(function (event) {
        console.log(event);
    }, 1000);

    function throttle(fn, time) {
        var beforeTime = 0;
        return function () {
            var self = this;
            var args = arguments;
            var currTime = +new Date();
            if (currTime - beforeTime >= time) {
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }

    function debounce(fn, time) {
        var time = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn.apply(self, args);
            }, time);
        }
    }
</script>
<!-- 7 -->
<script>
    window.onscroll = throttle(function (event) {
        console.log(event);
    }, 1000);

    function throttle(fn, time) {
        var beforeTime = 0;
        return function () {
            var self = this;
            var args = arguments;
            var currTime = +new Date();
            if (currTime - beforeTime >= time) {
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }

    function debounce(fn, time) {
        var time = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn.apply(self, args);
            }, time);
        }
    }
</script>
<!-- 8 -->
<script>
    window.onscroll = throttle(function (event) {
        console.log(event);
    }, 1000);

    function throttle(fn, time) {
        var beforeTime = 0;
        return function () {
            var self = this;
            var args = arguments;
            var currTime = +new Date();
            if (currTime - beforeTime >= time) {
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }

    function debounce(fn, time) {
        var time = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn.apply(self, args);
            }, time);
        }
    }
</script>
<!-- 9 -->
<script>
    window.onscroll = throttle(function (event) {
        console.log(event)
    }, 1000);

    function throttle(fn, time) {
        var beforeTime = 0;
        return function () {
            var self = this;
            var args = arguments;
            var currTime = +new Date();
            if (currTime - beforeTime >= time) {
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }

    function debounce(fn, time) {
        var time = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn.apply(self, args);
            }, time);
        }
    }
</script>
<!-- 10 -->
<script>
    window.onscroll = throttle(function (event) {
        console.log(event)
    }, 1000);

    function throttle(fn, time) {
        var beforeTime = 0;
        return function () {
            var self = this;
            var args = arguments;
            var currTime = +new Date();
            if (currTime - beforeTime >= time) {
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }

    function debounce(fn, time) {
        var time = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn.apply(self, args);
            }, time);
        }
    }
</script>
<!-- 11 -->
<script>
    window.onscroll = throttle(function (event) {
        console.log(event)
    }, 1000);

    function throttle(fn, time) {
        var beforeTime = 0;
        return function () {
            var self = this;
            var args = arguments;
            var currTime = +new Date();
            if (currTime - beforeTime >= time) {
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }

    function debounce(fn, time) {
        var time = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn.apply(self, args);
            }, time);
        }
    }
</script>
<!-- 12 -->
<script>
    window.onscroll = throttle(function (event) {
        console.log(event);
    }, 1000);

    function throttle(fn, time) {
        var beforeTime = 0;
        return function () {
            var self = this;
            var args = arguments;
            var currTime = +new Date();
            if (currTime - beforeTime >= time) {
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }

    function debounce(fn, time) {
        var time = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn.apply(self, args);
            }, time)
        }
    }
</script>
<!-- 13 -->
<script>
    window.onscroll = throttle(function (event) {
        console.log(event);
    }, 1000);

    function throttle(fn, time) {
        var beforeTime = 0;
        return function () {
            var self = this;
            var args = arguments;
            var currTime = +new Date();
            if (currTime - beforeTime >= time) {
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }

    function debounce(fn, time) {
        var time = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn.apply(self, args);
            }, time)
        }
    }
</script>
<!-- 14 -->
<script>
    window.onscroll = throttle(function (event) {
        console.log(event);
    }, 1000);

    function throttle(fn, time) {
        var beforeTime = 0;
        return function () {
            var self = this;
            var args = arguments;
            var currTime = +new Date();
            if (currTime - beforeTime >= time) {
                fn.apply(self, args);
                beforeTime = currTime;
            }
        }
    }

    function debounce(fn, time) {
        var time = null;
        return function () {
            var self = this;
            var args = arguments;
            clearTimeout(timer);
            timer = setTimeout(function () {
                fn.apply(self, args);
            }, time)
        }
    }
</script>

</html>